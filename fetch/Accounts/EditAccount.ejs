<%- contentFor('HeaderCss') %>

    <link href="/public/assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet">

    <!-- dropzone css -->
    <link href="/public/assets/libs/dropzone/min/dropzone.min.css" rel="stylesheet" type="text/css" />

    <%- contentFor('breadcrumb') %>
        <div class="message">
            <% if(error.length> 0) { %>
                <div class="alert alert-danger text-center mb-4 flash" role="alert">
                    <%= error %>
                </div>
                <% } %>
                    <% if(message.length> 0) { %>
                        <div class="alert alert-success text-center mb-4 flash" role="alert">
                            <%= message %>
                        </div>
                        <% } %>
        </div>
        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                    <h4 class="mb-sm-0 font-size-18">Edit Account</h4>

                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item"><a href="javascript: void(0);">Edit</a></li>
                            <li class="breadcrumb-item active">Account</li>
                        </ol>
                    </div>

                </div>
            </div>
        </div>
        <!-- end page title -->

        <%- contentFor('body') %>
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-body">
                            <!-- <h4 class="card-title mb-4">Edit Account</h4> -->
                            <form method="POST" action="/edit-company/<%= company._id%>">
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Account Name</label>
                                    <div class="col-lg-10">
                                        <input type="text" value="<%= company.name %>" id="name" name="name" type="text" class="form-control" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Account Owner Name</label>
                                    <div class="col-lg-10">
                                        <input type="text" value="<%= company.ownerName %>" id="ownerName" name="ownerName" type="text" class="form-control" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Building Name/Address1</label>
                                    <div class="col-lg-10">
                                        <input type="text" id="address1" name="address1" type="text" class="form-control" value="<%= company.address1 %>" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Street Name/Address2</label>
                                    <div class="col-lg-10">
                                        <input type="text" id="address2" name="address2" type="text" class="form-control" value="<%= company.address2 %>" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Country</label>
                                    <div class="col-lg-10">
                                        <select id="country" name="country" required class="form-control">
                                            <option>Select Country</option>
                                            <% countries.forEach(function(country){ %>
                                                <option <%=(company.country == country.name) ? "selected" : "" %> countryCode="<%= country.isoCode %>" value="<%= country.name %>">
                                                    <%= country.name %>
                                                </option>
                                                <% }); %>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">State</label>
                                    <div class="col-lg-10">
                                        <select id="state" name="state" required class="form-control">
                                            <% states.forEach(function(state){ %>
                                                <option <%=(company.state==state.name) ? "selected" : "" %> value="<%= state.name %>">
                                                        <%= state.name %>
                                                </option>
                                                <% }); %>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="name" class="col-form-label col-lg-2">Suburb/City</label>
                                    <div class="col-lg-10">
                                        <select id="suburb" name="suburb" required class="form-control">
                                            <% cities.forEach(function(city){ %>
                                                <option <%=(company.suburb==city.name) ? "selected" : "" %> value="<%= city.name %>">
                                                        <%= city.name %>
                                                </option>
                                                <% }); %>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Zipcode</label>
                                    <div class="col-lg-10">
                                        <input type="text" class="form-control" id="zipcode" name="zipcode" rows="3" value="<%= company.zipcode %>"
                                            required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Email</label>
                                    <div class="col-lg-10">
                                        <input type="text" value="<%= company.email %>" class="form-control" id="email" name="email" rows="3" placeholder="Enter Email..." required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Phone</label>
                                    <div class="col-lg-10">
                                        <input type="text" class="form-control" id="phone" name="phone" rows="3" value="<%= company.phone %>" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Timezone</label>
                                    <div class="col-lg-10">
                                        <select id="timezone" name="timezone" required class="form-control">
                                            <% timezones.forEach(function(timezone){ %>
                                                <option <%=(company.timezone == timezone.name) ? "selected" : "" %> value="<%= timezone.name %>">
                                                    <%= timezone.name %>
                                                </option>
                                                <% }); %>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Billing Department Contact Name</label>
                                    <div class="col-lg-10">
                                        <input type="text" class="form-control" id="billingContactName" name="billingContactName" rows="3" value="<%= company.billingContactName %>" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Billing Department Contact Number</label>
                                    <div class="col-lg-10">
                                        <input type="text" class="form-control" id="billingContactNumber" name="billingContactNumber" rows="3" value="<%= company.billingContactNumber %>" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="email" class="col-form-label col-lg-2">Billing Department Contact Email</label>
                                    <div class="col-lg-10">
                                        <input type="text" class="form-control" id="billingContactEmail" name="billingContactEmail" rows="3" value="<%= company.billingContactEmail %>" required>
                                    </div>
                                </div>
                                <% if(user.role=="admin" ) {%>
                                    <div class="row mb-4">
                                        <label class="col-form-label col-lg-2">Status</label>
                                        <div class="col-lg-10">
                                            <select class="form-control" required name="active">
                                                <option <%=(company.active==true) ? "selected" : "" %> value="true">Active</option>
                                                <option <%=(company.active==false) ? "selected" : "" %> value="false">Deactive</option>
                                            </select>
                                        </div>
                                    </div>
                                    <%} %>
                                <div class="row justify-content-end">
                                    <div class="col-lg-10">
                                        <button type="submit" class="btn btn-primary">Edit Account</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end row -->

            <%- contentFor('FooterJs') %>

                <!-- bootstrap datepicker -->
                <script src="/public/assets/libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>

                <!-- dropzone plugin -->
                <script src="/public/assets/libs/dropzone/min/dropzone.min.js"></script>

                <script src="/public/assets/js/custom_pages/country.js"></script>

                <%- contentFor('BottomJs') %>